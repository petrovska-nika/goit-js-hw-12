import{a as w,S as b,i as a}from"./assets/vendor-CrlV4O_2.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const S="47226916-cc5259a17256b069c75571d3a",v="https://pixabay.com/api/",q=15;async function f(o,e){return(await w.get(v,{params:{key:S,q:o,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:q,page:e}})).data}const h=document.querySelector(".gallery"),m=document.querySelector(".loader"),g=document.querySelector(".load-more");let M=new b(".gallery a");function p(o){const e=o.map(n=>`
    <a href="${n.largeImageURL}" class="gallery-item">
      <img src="${n.webformatURL}" alt="${n.tags}" />
    </a>
  `).join("");h.insertAdjacentHTML("beforeend",e),M.refresh()}function R(){h.innerHTML=""}function y(){m.classList.remove("is-hidden")}function L(){m.classList.add("is-hidden")}function B(){g.classList.remove("is-hidden")}function l(){g.classList.add("is-hidden")}const P=document.querySelector("#search-form"),E=document.querySelector(".load-more");let i="",s=1,d=0;P.addEventListener("submit",O);E.addEventListener("click",A);async function O(o){if(o.preventDefault(),i=o.target.elements.searchQuery.value.trim(),!!i){s=1,R(),l(),y();try{const e=await f(i,s);if(e.hits.length===0){a.warning({message:"Nothing found. Try again.",position:"topRight"});return}p(e.hits),d=Math.ceil(e.totalHits/15),s<d?B():l()}catch{a.error({message:"Oops, something went wrong...",position:"topRight"})}finally{L()}}}async function A(){s+=1,y();try{const o=await f(i,s);p(o.hits),_(),s>=d&&(l(),a.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"}))}catch{a.error({message:"Failed to load more images.",position:"topRight"})}finally{L()}}function _(){var e;const o=((e=document.querySelector(".gallery a"))==null?void 0:e.getBoundingClientRect().height)||0;window.scrollBy({top:o*2,behavior:"smooth"})}
//# sourceMappingURL=index.js.map
